#!/usr/bin/env bash

readonly DOTFILES=${DOTFILES:-"${HOME}/dotfiles"}
readonly DOTFILES_REPO=${DOTFILES:-"${HOME}/dotfiles"}

cd "${HOME}"
if [ ! -d "${DOTFILES}" ]; then
  git "${DOTFILES_REPO}" "${DOTFILES}"
fi


# TODO: do not make the hard lin to linux debian.  Instead,
# try to install as much as possible via nix-env.
if [ -d "${DOTFILES}" ]; then
  "${DOTFILES}/bin/bin/dotfiles" -v install linux debian
else
  echo "Could not clone dotfiles repository"
  exit 1
fi
